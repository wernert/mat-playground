import{b as M}from"./chunk-KMQHLRZA.js";import{d as k,e as y}from"./chunk-O6EBNC6U.js";import{u as I,w as P}from"./chunk-U4VE22RU.js";import"./chunk-DILVJND7.js";import{$b as b,Bc as v,Ib as l,Jb as m,Kb as p,Ob as f,Qb as u,Vb as C,Wb as w,Xb as g,gb as r,nb as c,oa as h,pa as d}from"./chunk-I6MPRKJP.js";var S=["renderCanvas2"],W=(()=>{class a{constructor(t,e){this.router=t,this.location=e,this.baseColor="rgba(68, 21, 155, 0.75)",this.accentColor="rgba(233, 221, 255, 0.75)"}ngAfterViewInit(){this.canvas=this.renderCanvas2.nativeElement,this.ctx=this.canvas.getContext("2d");let t=this.canvas.height/2;this.ctx.translate(t,t),t=t*.9,this.drawClock(this.ctx,t),this.id=setInterval(()=>{this.drawClock(this.ctx,t)},1e4)}openWin(){let t="left=100,top=100,width=500,height=500",e=this.location.prepareExternalUrl(this.router.serializeUrl(this.router.createUrlTree(["/clock"])));window.open(e,"clock",t)}drawClock(t,e){this.drawFace(this.ctx,e),this.drawNumbers(this.ctx,e),this.drawTime(this.ctx,e)}drawFace(t,e){let i=t.createRadialGradient(0,0,e*.1,0,0,e*1.05);i.addColorStop(0,this.baseColor),i.addColorStop(.5,"white"),i.addColorStop(1,this.accentColor),t.beginPath(),t.arc(0,0,e*1,0,2*Math.PI),t.fillStyle="white",t.fill(),t.strokeStyle=i,t.lineWidth=e*.5,t.stroke(),t.beginPath(),t.arc(0,0,e*.07,0,2*Math.PI),t.fillStyle="#333",t.fill()}drawNumbers(t,e){t.font=e*.1+"px arial",t.textBaseline="middle",t.textAlign="center";for(let i=1;i<13;i++){let o=i*Math.PI/6;t.rotate(o),t.translate(0,-e*.87),t.fillText(i.toString(),0,0),t.translate(0,e*.87),t.rotate(-o)}}drawTime(t,e){let i=new Date,o=i.getHours(),n=i.getMinutes(),s=i.getSeconds();o=o%12,o=o*Math.PI/6+n*Math.PI/(6*60)+s*Math.PI/(360*60),this.drawHand(t,o,e*.5,e*.07),n=n*Math.PI/30+s*Math.PI/(30*60),this.drawHand(t,n,e*.77,e*.07)}drawHand(t,e,i,o){t.strokeStyle=this.baseColor,t.beginPath(),t.lineWidth=o,t.lineCap="round",t.moveTo(0,0),t.rotate(e),t.lineTo(0,-i),t.stroke(),t.rotate(-e)}static{this.\u0275fac=function(e){return new(e||a)(r(M),r(v))}}static{this.\u0275cmp=c({type:a,selectors:[["app-clock"]],viewQuery:function(e,i){if(e&1&&C(S,5),e&2){let o;w(o=g())&&(i.renderCanvas2=o.first)}},decls:6,vars:0,consts:[["renderCanvas2",""],["id","renderCanvas2","width","500","height","500",1,"renderCanvas"],[1,"float-buttons"],["mat-mini-fab","","aria-label","Example icon button with a menu icon",3,"click"]],template:function(e,i){if(e&1){let o=f();p(0,"canvas",1,0),l(2,"div",2)(3,"button",3),u("click",function(){return h(o),d(i.openWin())}),l(4,"mat-icon"),b(5,"schedule"),m()()()}},dependencies:[P,I,y,k],styles:["[_nghost-%COMP%]{display:block;position:absolute;top:1px;left:1px;z-index:1;background-color:#faebd7;width:500px;height:500px}.float-buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2}"]})}}return a})();export{W as ClockComponent};
